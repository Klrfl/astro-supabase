---
const data = Astro.locals;
const user = data?.user;
---

<nav>
  <ul class="nav-links">
    <li><a href="/">home</a></li>

    <li><a href="/guestbook">Guestbook</a></li>
    {
      user ? (
        <li>
          <a href="/account">Account</a>
        </li>
      ) : (
        <>
          <li>
            <a href="/sign-in">Sign in</a>
          </li>
          <li>
            <a href="/register">Register</a>
          </li>
        </>
      )
    }
  </ul>

  <span>{user?.email}</span>
</nav>

<style>
  nav {
    box-shadow: 0 5px 5px 2px #ddda;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .nav-links {
    list-style: none;
    margin: 0;
    padding: 0;

    display: flex;
    justify-content: center;
  }

  .nav-links a {
    display: block;
    color: inherit;
    text-decoration: none;
    padding: 1rem;
  }

  .nav-links a:hover {
    background: #ddd;
  }
</style>
